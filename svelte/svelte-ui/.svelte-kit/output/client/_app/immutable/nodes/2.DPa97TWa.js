import{f as U,a as R,c as fa}from"../chunks/Y57aK0mG.js";import"../chunks/Bge8jGK3.js";import{q,x as Wa,w as Ya,g as p,as as $a,y as Ja,H as Ka,z as Ea,A as ga,B as ha,s as va,N as Xa,aq as Qa,a9 as Ta,j as Za,o as ya,v as ja,ao as Sa,at as Da,_ as xa,au as aa,av as ae,aw as ee,ax as se,n as ma,ay as V,k as Ga,p as Ha,az as _a,O as te,an as le,m as ne,M as ie,aA as Oa,a2 as re,aB as oe,C as ve,G as ue,K as A,I as c,J as v,aa as Z,D as ba,aC as M,F as wa}from"../chunks/Dvv5_2ZS.js";import{e as O,s as j}from"../chunks/BLNhKJV1.js";import{i as la}from"../chunks/DCIbEL36.js";import{i as ce}from"../chunks/Cntc2EUW.js";function Ma(a,t){return t}function de(a,t,s){for(var r=[],g=t.length,l,u=t.length,h=0;h<g;h++){let E=t[h];Ha(E,()=>{if(l){if(l.pending.delete(E),l.done.add(E),l.pending.size===0){var m=a.outrogroups;ka(Sa(l.done)),m.delete(l),m.size===0&&(a.outrogroups=null)}}else u-=1},!1)}if(u===0){var o=r.length===0&&s!==null;if(o){var b=s,i=b.parentNode;le(i),i.append(b),a.items.clear()}ka(t,!o)}else l={pending:new Set(t),done:new Set},(a.outrogroups??(a.outrogroups=new Set)).add(l)}function ka(a,t=!0){for(var s=0;s<a.length;s++)ne(a[s],t)}var Pa;function Na(a,t,s,r,g,l=null){var u=a,h=new Map,o=(t&Oa)!==0;if(o){var b=a;u=q?ga(ie(b)):b.appendChild(ma())}q&&Wa();var i=null,E=$a(()=>{var n=s();return Da(n)?n:n==null?[]:Sa(n)}),m,k=!0;function F(){e.fallback=i,pe(e,m,u,t,r),i!==null&&(m.length===0?i.f&V?(i.f^=V,ra(i,null,u)):Ga(i):Ha(i,()=>{i=null}))}var W=Ya(()=>{m=p(E);var n=m.length;let Y=!1;if(q){var $=Ja(u)===Ka;$!==(n===0)&&(u=Ea(),ga(u),ha(!1),Y=!0)}for(var x=new Set,f=Za,S=ja(),w=0;w<n;w+=1){q&&va.nodeType===Xa&&va.data===Qa&&(u=va,Y=!0,ha(!1));var I=m[w],B=r(I,w),_=k?null:h.get(B);_?(_.v&&Ta(_.v,I),_.i&&Ta(_.i,w),S&&f.skipped_effects.delete(_.e)):(_=fe(h,k?u:Pa??(Pa=ma()),I,B,w,g,t,s),k||(_.e.f|=V),h.set(B,_)),x.add(B)}if(n===0&&l&&!i&&(k?i=ya(()=>l(u)):(i=ya(()=>l(Pa??(Pa=ma()))),i.f|=V)),q&&n>0&&ga(Ea()),!k)if(S){for(const[P,N]of h)x.has(P)||f.skipped_effects.add(N.e);f.oncommit(F),f.ondiscard(()=>{})}else F();Y&&ha(!0),p(E)}),e={effect:W,items:h,outrogroups:null,fallback:i};k=!1,q&&(u=va)}function pe(a,t,s,r,g){var _,P,N,L,ea,D,G,T,y;var l=(r&oe)!==0,u=t.length,h=a.items,o=a.effect.first,b,i=null,E,m=[],k=[],F,W,e,n;if(l)for(n=0;n<u;n+=1)F=t[n],W=g(F,n),e=h.get(W).e,e.f&V||((P=(_=e.nodes)==null?void 0:_.a)==null||P.measure(),(E??(E=new Set)).add(e));for(n=0;n<u;n+=1){if(F=t[n],W=g(F,n),e=h.get(W).e,a.outrogroups!==null)for(const d of a.outrogroups)d.pending.delete(e),d.done.delete(e);if(e.f&V)if(e.f^=V,e===o)ra(e,null,s);else{var Y=i?i.next:o;e===a.effect.last&&(a.effect.last=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),J(a,i,e),J(a,e,Y),ra(e,Y,s),i=e,m=[],k=[],o=i.next;continue}if(e.f&_a&&(Ga(e),l&&((L=(N=e.nodes)==null?void 0:N.a)==null||L.unfix(),(E??(E=new Set)).delete(e))),e!==o){if(b!==void 0&&b.has(e)){if(m.length<k.length){var $=k[0],x;i=$.prev;var f=m[0],S=m[m.length-1];for(x=0;x<m.length;x+=1)ra(m[x],$,s);for(x=0;x<k.length;x+=1)b.delete(k[x]);J(a,f.prev,S.next),J(a,i,f),J(a,S,$),o=$,i=S,n-=1,m=[],k=[]}else b.delete(e),ra(e,o,s),J(a,e.prev,e.next),J(a,e,i===null?a.effect.first:i.next),J(a,i,e),i=e;continue}for(m=[],k=[];o!==null&&o!==e;)(b??(b=new Set)).add(o),k.push(o),o=o.next;if(o===null)continue}e.f&V||m.push(e),i=e,o=e.next}if(a.outrogroups!==null){for(const d of a.outrogroups)d.pending.size===0&&(ka(Sa(d.done)),(ea=a.outrogroups)==null||ea.delete(d));a.outrogroups.size===0&&(a.outrogroups=null)}if(o!==null||b!==void 0){var w=[];if(b!==void 0)for(e of b)e.f&_a||w.push(e);for(;o!==null;)!(o.f&_a)&&o!==a.fallback&&w.push(o),o=o.next;var I=w.length;if(I>0){var B=r&Oa&&u===0?s:null;if(l){for(n=0;n<I;n+=1)(G=(D=w[n].nodes)==null?void 0:D.a)==null||G.measure();for(n=0;n<I;n+=1)(y=(T=w[n].nodes)==null?void 0:T.a)==null||y.fix()}de(a,w,B)}}l&&re(()=>{var d,C;if(E!==void 0)for(e of E)(C=(d=e.nodes)==null?void 0:d.a)==null||C.apply()})}function fe(a,t,s,r,g,l,u,h){var o=u&ee?u&se?xa(s):aa(s,!1,!1):null,b=u&ae?xa(g):null;return{v:o,i:b,e:ya(()=>(l(t,o??s,b??g,h),()=>{a.delete(r)}))}}function ra(a,t,s){if(a.nodes)for(var r=a.nodes.start,g=a.nodes.end,l=t&&!(t.f&V)?t.nodes.start:s;r!==null;){var u=te(r);if(l.before(r),r===g)return;r=u}}function J(a,t,s){t===null?a.effect.first=s:t.next=s,s===null?a.effect.last=t:s.prev=t}function ge(a,t,s){var r=a==null?"":""+a;return r=r?r+" "+t:t,r===""?null:r}function he(a,t){return a==null?null:String(a)}function me(a,t,s,r,g,l){var u=a.__className;if(q||u!==s||u===void 0){var h=ge(s,r);(!q||h!==a.getAttribute("class"))&&(h==null?a.removeAttribute("class"):a.className=h),a.__className=s}return l}function Ra(a,t,s,r){var g=a.__style;if(q||g!==t){var l=he(t);(!q||l!==a.getAttribute("style"))&&(l==null?a.removeAttribute("style"):a.style.cssText=l),a.__style=t}return r}function _e(a){return function(...t){var s=t[0];return s.stopPropagation(),a==null?void 0:a.apply(this,t)}}function be(a,t){var l;var s=(l=a.$$events)==null?void 0:l[t.type],r=Da(s)?s.slice():s==null?[]:[s];for(var g of r)g.call(this,t)}var we=U('<section class="screen screen-center svelte-1uha8ag"><div class="splash-card svelte-1uha8ag"><div class="logo-lockup svelte-1uha8ag"><div class="logo-pill svelte-1uha8ag"><span class="logo-dot svelte-1uha8ag"></span> <span class="logo-text-main svelte-1uha8ag">Project Baguette</span></div> <p class="logo-sub svelte-1uha8ag">soft neon rhythm sandbox</p></div> <button class="tap-button svelte-1uha8ag"><span class="svelte-1uha8ag">Tap to Start</span></button> <p class="splash-meta svelte-1uha8ag">early prototype Â· auto-chart Â· MV-ready</p></div> <p class="hint svelte-1uha8ag">WASD Â· mouse Â· touch Â· controller later</p></section>'),ye=U('<button class="card profile-card svelte-1uha8ag"><div class="avatar svelte-1uha8ag"> </div> <div class="profile-info svelte-1uha8ag"><div class="profile-name svelte-1uha8ag"> </div> <div class="profile-meta svelte-1uha8ag">Local save Â· Rhythm level 1</div></div></button>'),ke=U(`<div class="modal-backdrop svelte-1uha8ag"><div class="modal svelte-1uha8ag"><h2 class="svelte-1uha8ag">Connect an account</h2> <p class="modal-text svelte-1uha8ag">This is just a mock for now. Later this button will use real Google Sign-In
              and sync your scores.</p> <button class="google-btn svelte-1uha8ag"><span class="g-logo svelte-1uha8ag">G</span> <span class="svelte-1uha8ag">Sign in with Google</span></button> <button class="ghost-btn svelte-1uha8ag">Cancel</button></div></div>`),Se=U('<section class="screen svelte-1uha8ag"><header class="top-bar svelte-1uha8ag"><div class="top-left svelte-1uha8ag"><h1 class="title svelte-1uha8ag">Whoâ€™s playing today?</h1> <p class="subtitle svelte-1uha8ag">Pick a profile or add a new one.</p></div></header> <div class="grid profiles-grid svelte-1uha8ag"><!> <button class="card profile-card add-card svelte-1uha8ag"><div class="avatar avatar-add svelte-1uha8ag">+</div> <div class="profile-info svelte-1uha8ag"><div class="profile-name svelte-1uha8ag">Add player</div> <div class="profile-meta svelte-1uha8ag">Sign in with Google (soon)</div></div></button></div> <!></section>'),Ce=U('<section class="screen svelte-1uha8ag"><header class="top-bar svelte-1uha8ag"><div class="top-left svelte-1uha8ag"><h1 class="title svelte-1uha8ag"> </h1> <p class="subtitle svelte-1uha8ag">What kind of chaos are we making today?</p></div> <div class="top-right svelte-1uha8ag"><div class="mini-avatar svelte-1uha8ag"> </div></div></header> <div class="menu-list svelte-1uha8ag"><button class="menu-item primary svelte-1uha8ag"><div class="menu-label svelte-1uha8ag"><div class="menu-title-row svelte-1uha8ag"><span class="menu-icon svelte-1uha8ag">ğŸ¥–</span> <span class="menu-title svelte-1uha8ag">Rhythm Game</span></div> <span class="menu-sub svelte-1uha8ag">Tap notes Â· auto charts Â· MV backgrounds</span></div> <span class="menu-arrow svelte-1uha8ag">â€º</span></button> <button class="menu-item svelte-1uha8ag"><div class="menu-label svelte-1uha8ag"><div class="menu-title-row svelte-1uha8ag"><span class="menu-icon svelte-1uha8ag">ğŸµ</span> <span class="menu-title svelte-1uha8ag">My Songs</span></div> <span class="menu-sub svelte-1uha8ag">Imports Â· metadata Â· your custom packs</span></div> <span class="menu-arrow svelte-1uha8ag">â€º</span></button> <button class="menu-item svelte-1uha8ag"><div class="menu-label svelte-1uha8ag"><div class="menu-title-row svelte-1uha8ag"><span class="menu-icon svelte-1uha8ag">ğŸ¨</span> <span class="menu-title svelte-1uha8ag">Customization</span></div> <span class="menu-sub svelte-1uha8ag">Layouts Â· skins Â· pastel chaos settings</span></div> <span class="menu-arrow svelte-1uha8ag">â€º</span></button> <button class="menu-item svelte-1uha8ag"><div class="menu-label svelte-1uha8ag"><div class="menu-title-row svelte-1uha8ag"><span class="menu-icon svelte-1uha8ag">ğŸ—¡ï¸</span> <span class="menu-title svelte-1uha8ag">Idle RPG</span></div> <span class="menu-sub svelte-1uha8ag">Coming soon: baguette quests between songs</span></div> <span class="menu-arrow svelte-1uha8ag">â€º</span></button> <button class="menu-item svelte-1uha8ag"><div class="menu-label svelte-1uha8ag"><div class="menu-title-row svelte-1uha8ag"><span class="menu-icon svelte-1uha8ag">ğŸ–¼ï¸</span> <span class="menu-title svelte-1uha8ag">Gallery</span></div> <span class="menu-sub svelte-1uha8ag">Replays Â· screenshots Â· MV snapshots</span></div> <span class="menu-arrow svelte-1uha8ag">â€º</span></button> <button class="menu-item svelte-1uha8ag"><div class="menu-label svelte-1uha8ag"><div class="menu-title-row svelte-1uha8ag"><span class="menu-icon svelte-1uha8ag">âš™ï¸</span> <span class="menu-title svelte-1uha8ag">Settings</span></div> <span class="menu-sub svelte-1uha8ag">Controls Â· latency Â· account & storage</span></div> <span class="menu-arrow svelte-1uha8ag">â€º</span></button></div></section>'),Ie=U('<span class="pill pill-imported svelte-1uha8ag">Imported</span>'),Ae=U('<button><div class="song-main svelte-1uha8ag"><div class="song-title svelte-1uha8ag"> </div> <div class="song-meta svelte-1uha8ag"><span class="svelte-1uha8ag"> </span> <!></div></div> <div class="song-right svelte-1uha8ag"><span class="song-duration svelte-1uha8ag"> </span> <span class="menu-arrow svelte-1uha8ag">â€º</span></div></button>'),Ee=U(`<section class="screen svelte-1uha8ag"><header class="top-bar svelte-1uha8ag"><div class="top-left svelte-1uha8ag"><button class="ghost-btn small svelte-1uha8ag">â€¹ Back</button> <h1 class="title svelte-1uha8ag">Rhythm Game</h1> <p class="subtitle svelte-1uha8ag">Pick a song or import your own track.</p></div></header> <div class="song-layout svelte-1uha8ag"><div class="song-list svelte-1uha8ag"></div> <div class="song-import svelte-1uha8ag"><h2 class="svelte-1uha8ag">Import song</h2> <p class="subtitle small svelte-1uha8ag">Drop in <code class="svelte-1uha8ag">.mp3</code>, <code class="svelte-1uha8ag">.ogg</code>, <code class="svelte-1uha8ag">.wav</code>, or <code class="svelte-1uha8ag">.flac</code>.
            Project Baguette will auto-chart from the audio.</p> <label class="import-drop svelte-1uha8ag"><input type="file" accept=".mp3,.ogg,.wav,.flac,audio/mpeg,audio/ogg,audio/wav,audio/flac,audio/x-flac" multiple class="svelte-1uha8ag"/> <div class="import-inner svelte-1uha8ag"><div class="import-icon svelte-1uha8ag">ï¼‹</div> <div class="import-text svelte-1uha8ag"><div class="svelte-1uha8ag">Tap to choose files</div> <div class="import-sub svelte-1uha8ag">or drop them here (desktop)</div></div></div></label></div></div></section>`),Te=U('<div class="app-root svelte-1uha8ag"><div class="bg-orbit svelte-1uha8ag"></div> <div class="bg-orbit orbit-2 svelte-1uha8ag"></div> <div class="bg-noise svelte-1uha8ag"></div> <!></div>');function Ge(a,t){ve(t,!1);let s=aa("splash"),r=aa([{id:"guest",name:"Guest",avatarColor:"#ffd5e5"},{id:"player1",name:"Segfault",avatarColor:"#d5f0ff"}]),g=aa(null),l=aa(!1),u=aa([{id:"demo-1",title:"Overclocked",artist:"DryftIN",duration:"2:58",isImported:!1},{id:"demo-2",title:"Demo Track B",artist:"Project Baguette",duration:"2:30",isImported:!1}]),h=aa(null);function o(){M(s,"player-select")}function b(f){M(g,f),M(s,"main-menu")}function i(){M(l,!0)}function E(){M(l,!1)}function m(){const f={id:`google-${Date.now()}`,name:"Google Player",avatarColor:"#e0d5ff"};M(r,[...p(r),f]),M(g,f),M(l,!1),M(s,"main-menu")}function k(){M(s,"song-select")}function F(){M(s,"main-menu")}function W(f){M(h,f.id),console.log("Selected song:",f),window.startRhythmGame()}function e(f){const S=f.currentTarget;if(!S.files)return;Array.from(S.files).forEach(I=>{var L;const B=((L=I.name.split(".").pop())==null?void 0:L.toLowerCase())??"";if(!["mp3","ogg","wav","flac"].includes(B)){console.warn("Skipped unsupported file:",I.name);return}const N={id:`import-${Date.now()}-${I.name}`,title:I.name.replace(/\.[^.]+$/,""),artist:"Imported",duration:"--:--",isImported:!0};M(u,[...p(u),N]),console.log("Imported song file:",I)}),S.value=""}ce();var n=Te(),Y=A(c(n),6);{var $=f=>{var S=we(),w=c(S);Z(2),v(S),O("click",w,o),R(f,S)},x=f=>{var S=fa(),w=ba(S);{var I=_=>{var P=Se(),N=A(c(P),2),L=c(N);Na(L,1,()=>p(r),Ma,(T,y)=>{var d=ye(),C=c(d),z=c(C,!0);v(C);var H=A(C,2),sa=c(H),K=c(sa,!0);v(sa),Z(2),v(H),v(d),wa(X=>{Ra(C,`background:${p(y).avatarColor}`),j(z,X),j(K,p(y).name)},[()=>p(y).name.charAt(0).toUpperCase()]),O("click",d,()=>b(p(y))),R(T,d)});var ea=A(L,2);v(N);var D=A(N,2);{var G=T=>{var y=ke(),d=c(y),C=A(c(d),4),z=A(C,2);v(d),v(y),O("click",C,m),O("click",z,E),O("click",d,_e(function(H){be.call(this,t,H)})),O("click",y,E),R(T,y)};la(D,T=>{p(l)&&T(G)})}v(P),O("click",ea,i),R(_,P)},B=_=>{var P=fa(),N=ba(P);{var L=D=>{var G=Ce(),T=c(G),y=c(T),d=c(y),C=c(d);v(d),Z(2),v(y);var z=A(y,2),H=c(z),sa=c(H,!0);v(H),v(z),v(T);var K=A(T,2),X=c(K);Z(10),v(K),v(G),wa(Q=>{var na,oa;j(C,`Hi, ${((na=p(g))==null?void 0:na.name)??"Player"??""}.`),Ra(H,`background:${((oa=p(g))==null?void 0:oa.avatarColor)??"#ffd5e5"}`),j(sa,Q)},[()=>{var Q;return((Q=p(g))==null?void 0:Q.name.charAt(0).toUpperCase())??"P"}]),O("click",X,k),R(D,G)},ea=D=>{var G=fa(),T=ba(G);{var y=d=>{var C=Ee(),z=c(C),H=c(z),sa=c(H);Z(4),v(H),v(z);var K=A(z,2),X=c(K);Na(X,5,()=>p(u),Ma,(Ba,ta)=>{var ia=Ae(),ua=c(ia),ca=c(ua),La=c(ca,!0);v(ca);var Ca=A(ca,2),da=c(Ca),za=c(da,!0);v(da);var qa=A(da,2);{var Fa=pa=>{var Ua=Ie();R(pa,Ua)};la(qa,pa=>{p(ta).isImported&&pa(Fa)})}v(Ca),v(ua);var Ia=A(ua,2),Aa=c(Ia),Va=c(Aa,!0);v(Aa),Z(2),v(Ia),v(ia),wa(()=>{me(ia,1,`song-row ${p(ta).id===p(h)?"selected":""}`,"svelte-1uha8ag"),j(La,p(ta).title),j(za,p(ta).artist),j(Va,p(ta).duration)}),O("click",ia,()=>W(p(ta))),R(Ba,ia)}),v(X);var Q=A(X,2),na=A(c(Q),4),oa=c(na);Z(2),v(na),v(Q),v(K),v(C),O("click",sa,F),O("change",oa,e),R(d,C)};la(T,d=>{p(s)==="song-select"&&d(y)},!0)}R(D,G)};la(N,D=>{p(s)==="main-menu"?D(L):D(ea,!1)},!0)}R(_,P)};la(w,_=>{p(s)==="player-select"?_(I):_(B,!1)},!0)}R(f,S)};la(Y,f=>{p(s)==="splash"?f($):f(x,!1)})}v(n),R(a,n),ue()}export{Ge as component};
